<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org"
                xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:insert="fragments :: headerFiles">
<body>
    <header th:insert="fragments :: nav"></header>

    <div sec:authorize="hasRole('ROLE_Admin_cliente') || hasRole('ROLE_ADMIN')"  class="container">

        <h1 class="text-center border border-success border-bottom  border-0" th:text="${titulo}"></h1>
        <!-- 2 agregar lista de errores -->
        <!-- <div th:object="${cliente}">
            <ul th:if="${#fields.hasErrors('*')}" class="alert alert-danger">
                <li th:each="err: ${#fields.errors('*')}" th:text="${err}"></li>
            </ul>
        </div> -->

        <div class="container d-flex justify-content-center">

            <div class="card">
                <div class="card-header">
                    <span>Roles</span>
                    <ul class="nav nav-tabs">
                        <li class="nav-item">
                          <a class="nav-link " th:classappend="${activeTab == 'cliente' ? 'active' : ''}" th:href="@{/form?tab=cliente}">
                            <i class="fa-solid fa-user" >
                            </i> Cliente</a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link " th:classappend="${activeTab == 'adminProducto' ? 'active' : ''}" th:href="@{/form?tab=adminProducto}">
                            <i class="fa-solid fa-user-plus"></i> Admin Productos</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link " th:classappend="${activeTab == 'adminCliente' ? 'active' : ''}" th:href="@{/form?tab=adminCliente}">
                              <i class="fa-solid fa-user-plus"></i> Admin Clientes</a>
                          </li>
                          <li class="nav-item">
                            <a class="nav-link " th:classappend="${activeTab == 'admin' ? 'active' : ''}" th:href="@{/form?tab=admin}">
                              <i class="fa-solid fa-user-plus"></i>EL ADMIN</a>
                          </li>
                      </ul>
                </div>
                <div  class="card-body" >
                    <div th:switch="${activeTab}">
                        <div th:case="'cliente'">
                            <div th:include=" fragments :: rolCliente"></div>
                        </div>
                        <div th:case="'adminProducto'">
                            <div th:include="fragments :: rolAdminProducto"></div>
                        </div>
                        <div th:case="'adminCliente'">
                            <div th:include="fragments :: rolAdminCliete"></div>
                        </div>
                        <div th:case="'admin'">
                            <div th:include="fragments :: rolAdmin"></div>
                        </div>
                    </div>

                </div>
              </div>
          
        </div>


        <footer th:insert="fragments :: footer"></footer>
        <div th:insert="fragments :: scripts"></div>
    </div>
</body>

</html>